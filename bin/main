#!/usr/bin/env ruby
require_relative '../lib/game_logic'
require_relative '../lib/player_logic'

class Game
  include GameLogic
  attr_accessor :player1, :player2, :players

  def initialize()
    @player1 = Player.new
    @player2 = Player.new
    @players = [@player1, @player2]
    @game_over = false
    @counter = 0
    @choices = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    @winner = 'VER'
  end
  
  def draw_board
    puts '+---+---+---+'
    puts "| #{@choices[0]} | #{@choices[1]} | #{@choices[2]} |"
    puts '+---+---+---+'
    puts "| #{@choices[3]} | #{@choices[4]} | #{@choices[5]} |"
    puts '+---+---+---+'
    puts "| #{@choices[6]} | #{@choices[7]} | #{@choices[8]} |"
    puts '+---+---+---+'
  end

  def initialize_game
    puts 'Welcome to the game'
    puts 'Enter Player 1 name: '
    @player1.name = gets.chomp
    until valid_name(@player1.name)
      puts 'Please enter a valid name (the length should be between 1 and 20, no symbols or digits'
      @player1.name = gets.chomp
    end
    @player1.symbol = 'O'
    puts 'Enter player 2 name: '
    @player2.name = gets.chomp
    until valid_name(@player2.name)
      puts 'Please enter a valid name (the length should be between 1 and 20, no symbols or digits'
      @player2.name = gets.chomp
    end
    @player2.symbol = 'X'
    sleep(1)
    puts "#{@player1.name} will be #{@player1.symbol}, and #{@player2.name} will be #{@player2.symbol}."
    sleep(1)
    puts "Let's start!"
    sleep(1)
  end

end